@{
    ViewData["Title"] = "Home Page";
}

@using System.Threading.Tasks
@using WalkthroughNine.ServiceInterfaces

@model IEnumerable<ToDoItem>
@inject IToDoItemService ToDoItemService

<div>
    <h1>To Do Items</h1>
    <ul>
        <li>Total Items: @ToDoItemService.GetCount()</li>
        <li>Completed: @ToDoItemService.GetCompletedCount()</li>
        <li>Avg. Priority: @ToDoItemService.GetAveragePriority()</li>
    </ul>
    <table>
        <tr>
            <th>Name</th>
            <th>Priority</th>
            <th>Is Done?</th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.Name</td>
                <td>@item.Priority</td>
                <td>@item.IsDone</td>
            </tr>
        }
    </table>
</div>
